div.timeline
	if posts != null && posts.length > 0
		ol.posts
			each post in posts
				li.post(title!= '#{post.createdAt}&#x0A;via #{post.app.name}'
						style= post.isReply ? 'border-color: ' + post.reply.user.color + ';' : ''
						data-id= post.id
						data-user-id= post.user.id
						data-user-comment= post.user.comment
						data-user-color= post.user.color
						data-is-favorited!= login ? post.isFavorited.toString() : null,
						data-is-reposted!= login ? post.isReposted.toString() : null)
					if post.isReply
						div.replyTo
							article
								a(href=url + '/' + post.reply.user.screenName + '/talk?noheader=true')
									img.icon(src=url + '/img/icon/' + post.reply.user.screenName, alt='icon')
								header
									h2
										a(href=url + '/' + post.reply.user.screenName, target='_blank')= post.reply.user.name
									span.screenName= '@' + post.reply.user.screenName
									a(href=url + '/' + post.reply.user.screenName + '/post/' + post.reply.id): time(datetime=post.reply.createdAt)= post.reply.createdAt
								div.main
									p.text!= (post.reply.isReply ? '<a href="' + url + '/post/' + post.reply.inReplyToPostId + '" class="reply"><i class="fa fa-reply"></i></a>' : '') + parseText(post.reply.text)
									if post.reply.isImageAttached
										img.image(src=url + '/img/post/' + post.reply.id, alt='image')
					article
						a(href=url + '/' + post.user.screenName + '/talk?noheader=true')
							img.icon(src=url + '/img/icon/' + post.user.screenName, alt='icon')
						header
							h2
								a(href=url + '/' + post.user.screenName, target='_blank')= post.user.name
							span.screenName= '@' + post.user.screenName
							a(href=url + '/' + post.user.screenName + '/post/' + post.id): time(datetime=post.createdAt)= post.createdAt
						div.main
							p.text!= (post.isReply ? '<a href="' + url + '/post/' + post.inReplyToPostId + '" class="reply"><i class="fa fa-reply"></i></a>' : '') + parseText(post.text)
							if post.isImageAttached
								img.image(src=url + '/img/post/' + post.id, alt='image')
						footer
							if login
								div.actions
									button.repostButton(title= post.isReposted ? 'Repostを取り消し' : 'Repost', role='button')
										i.fa.fa-retweet
										span.count= post.repostsCount != 0 ? post.repostsCount : ''
									button.favoriteButton(title= post.isFavorited ? 'お気に入り解除' : 'お気に入り', role='button')
										i.fa.fa-star
										span.count= post.favoritesCount != 0 ? post.favoritesCount : ''
					footer
						form.replyForm
							textarea(name='text')= '@' + post.user.screenName + ' '
							input(name='in_reply_to_post_id', type='hidden', value=post.id)
							input(type='submit', value='Reply')
							div.imageAttacher
								p
									i.fa.fa-picture-o
								input(name='image', type='file', accept='image/*')